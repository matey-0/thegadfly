<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>The Gadfly - Author Brick Breaker</title>
        <link rel="stylesheet" href="../css/style.css">
        <link rel="icon" href="../media/favicon.png" type="image/png">
        <style>
            /* --- PAGE LAYOUT OVERRIDES --- */
            body {
                background-color: #fffdf4; /* Standard Off-white */
                color: #333;
            }
            
            main {
                background-color: transparent !important;
                position: relative;
                z-index: 2;
            }

            /* Semi-transparent backing for the main text area */
            .content-section {
                background-color: rgba(255, 253, 244, 0.95) !important;
                margin-top: 1rem;
                border-radius: 15px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                max-width: 1100px;
                margin-left: auto;
                margin-right: auto;
                position: relative;
                z-index: 2;
                padding: 1rem 2rem; /* Added padding for content */
            }

            /* --- BACKGROUND GRID ANIMATION --- */
            #page-background {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 0; /* Behind everything */
                background-color: #f0f0f0; 
                display: flex;
                flex-direction: column;
                overflow: hidden;
                pointer-events: none;
            }

            .bg-row {
                display: flex;
                width: max-content; /* Allow it to grow based on content */
                height: 20%; /* 5 rows fill screen */
                flex-wrap: nowrap; /* Prevent wrapping */
            }

            .bg-row img {
                height: 100%;
                width: auto;
                aspect-ratio: 1/1;
                object-fit: cover;
                display: block;
                /* filter: brightness(0.9);  <-- REMOVED */
                /* opacity: 0.6;  <-- REMOVED */
            }

            /* Animation Classes */
            .scroll-left { animation: scrollLeft 60s linear infinite; }
            .scroll-right { animation: scrollRight 60s linear infinite; }

            @keyframes scrollLeft {
                0% { transform: translateX(0); }
                100% { transform: translateX(-50%); } 
            }
            @keyframes scrollRight {
                0% { transform: translateX(-50%); }
                100% { transform: translateX(0); }
            }


            /* --- FOOTER & NEWSLETTER STYLES --- */
            .newsletter-signup {
                background-color: #e1e7e3; /* Requested Light Grey/Green */
                color: #333;
                position: relative;
                z-index: 20;
                border-top: 1px solid #808080; /* Requested Grey Line */
                padding: 2rem 1rem;
                text-align: center;
            }

            footer {
                background-color: #0b130c; /* Requested Dark Footer */
                color: #fffdf4; /* Off-white Text */
                position: relative;
                z-index: 20;
                border-top: 1px solid #808080; /* Requested Grey Line */
                padding: 2rem 1.5rem;
                text-align: center;
            }
            
            footer a {
                color: #fffdf4;
                text-decoration: underline;
            }
            
            footer a:hover {
                color: #ccc;
            }
            
            .footer-jump {
                background-color: #09461d;
                color: #fffdf4;
                padding: 5px 15px;
                border-radius: 4px;
                text-decoration: none;
                display: inline-block;
                margin-top: 1rem;
            }

            @keyframes blink {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.5; }
            }
            
        </style>
    </head>
    <body>
        <div id="page-background">
            <div class="bg-row scroll-left" id="bg-row1"></div>
            <div class="bg-row scroll-right" id="bg-row2"></div>
            <div class="bg-row scroll-left" id="bg-row3"></div>
            <div class="bg-row scroll-right" id="bg-row4"></div>
            <div class="bg-row scroll-left" id="bg-row5"></div>
        </div>

        <header>
            <div class="logo-container">
                <a href="../index.html">
                    <img src="../media/wordmark.svg" alt="The Gadfly Wordmark">
                </a>
            </div>
            <a href="../pdfs/latest/latest.pdf" class="cta-button">Read The Latest Issue</a>
            <button class="hamburger-menu" aria-label="Toggle navigation menu">
                <img src="../media/burger.svg" alt="Menu Icon">
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="read.html">Read The Gadfly</a></li>
                    <li><a href="about-authors.html">About the Authors</a></li>
                    <li><a href="aoa.html">Articles of Agreement</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </nav>
        </header>

        <main>                
                <div style="display:none;">
                    <img id="img-david" src="../media/authors/david.png" alt="David">
                    <img id="img-hassan" src="../media/authors/hassan.png" alt="Hassan">
                    <img id="img-mateo" src="../media/authors/mateov2.png" alt="Mateo">
                    <img id="img-lianne" src="../media/authors/lianne.png" alt="Lianne">
                    <img id="img-mateo-old" src="../media/authors/prev/Mateo/mateo.webp" alt="Mateo Old">
                    <img id="img-lianne-old" src="../media/authors/prev/Lianne/lianne.webp" alt="Lianne Old">
                    <img id="img-hassan-old" src="../media/authors/prev/Hassan/hassan.webp" alt="Hassan Old">
                </div>
            </section>
        </main>

        <div class="newsletter-signup">
            <h3 style="color: #09461d;">Stay Updated</h3>
            <p>Get notified when new issues are published</p>
            <form action="https://buttondown.com/api/emails/embed-subscribe/thegadfly" method="post" target="popupwindow" onsubmit="window.open('https://buttondown.com/thegadfly', 'popupwindow')" class="embeddable-buttondown-form">
                <input type="email" name="email" id="bd-email" placeholder="Enter your email" required style="border: 2px solid #09461d;">
                <button type="submit" style="background-color: #09461d;">Subscribe</button>
            </form>
        </div>
        <footer>
            <p>Â© 2025 The Gadfly Team - All rights reserved.</p>
            <p>This website is licensed under the GPLv2. <a href="https://github.com/Mateo-Grgic/thegadfly.news">View source code on GitHub</a></p>
            <p>Contact us at: <a href="mailto:thegadfly.team@proton.me">thegadfly.team@proton.me</a></p>
            <p><a href="privacy_policy.html">Privacy Policy</a> | <a href="extra.html">Extra-Issue Docs</a></p>
            <a href="#top" class="footer-jump"> Jump To Top</a>
        </footer>

        <script src="../script.js"></script>
        <script>
            /* --- ASSETS --- */
            const authorImages = [
                document.getElementById('img-david'),
                document.getElementById('img-hassan'),
                document.getElementById('img-mateo'),
                document.getElementById('img-lianne'),
                document.getElementById('img-mateo-old'),
                document.getElementById('img-lianne-old'),
                document.getElementById('img-hassan-old')
            ];

            /* --- GRID GENERATION --- */
            function getRandomImage() {
                return authorImages[Math.floor(Math.random() * authorImages.length)];
            }

            // Fixes the jump by creating two identical halves
            function populateRow(rowId, count, isInteractive) {
                const row = document.getElementById(rowId);
                if (!row) return;
                
                // 1. Generate the random sequence
                const sequenceFragment = document.createDocumentFragment();
                
                // Note: count determines the length of ONE sequence.
                // We need enough images to cover the screen width + buffer.
                // 20-30 images is usually safe for 1080p+.
                const sequenceLength = 30; 
                
                for(let i=0; i<sequenceLength; i++) {
                    const img = getRandomImage().cloneNode(true);
                    img.id = "";
                    if(isInteractive) {
                        // img.onclick = function() { startGameWithAvatar(img); }; // REMOVED
                    }
                    sequenceFragment.appendChild(img);
                }
                
                // 2. Append the sequence ONCE
                row.appendChild(sequenceFragment.cloneNode(true));
                
                // 3. Append the sequence AGAIN (The Duplicate)
                // This ensures that when we translate -50% (the length of the first sequence),
                // we land on the start of the second sequence, which is identical.
                row.appendChild(sequenceFragment.cloneNode(true));
            }

            // Fill Background Grid
            ['bg-row1', 'bg-row2', 'bg-row3', 'bg-row4', 'bg-row5'].forEach(id => populateRow(id, null, false));
            
        </script>
    </body>
</html>
